<!-- views.html - Todas las vistas de la aplicaci√≥n -->

<!-- Vista de Onboarding -->
<div id="onboardingView" class="view active">
    <div class="main-content">
        <div class="onboarding-steps">
            <!-- Paso 1: Bienvenida -->
            <div class="step" id="step1">
                <div class="step-icon">üö®</div>
                <h1>Bienvenido a Scams Call</h1>
                <p>Tu plataforma confiable para reportar estafas telef√≥nicas en Colombia</p>
                <p class="text-light">Ayuda a proteger a tu comunidad reportando n√∫meros sospechosos</p>
                <button class="btn" onclick="nextOnboardingStep(2)">
                    Comenzar <i class="fas fa-arrow-right"></i>
                </button>
            </div>

            <!-- Paso 2: C√≥mo funciona -->
            <div class="step" id="step2" style="display: none;">
                <div class="step-icon">üì±</div>
                <h2>¬øC√≥mo funciona?</h2>
                <div style="text-align: left; max-width: 500px; margin: 0 auto;">
                    <p><strong>1.</strong> Reporta n√∫meros desconocidos o sospechosos</p>
                    <p><strong>2.</strong> Describe lo que sucedi√≥ en la llamada</p>
                    <p><strong>3.</strong> Recibe seguimiento de tus reportes</p>
                    <p><strong>4.</strong> Ayuda a prevenir estafas en tu comunidad</p>
                </div>
                <button class="btn" onclick="nextOnboardingStep(3)">
                    Siguiente <i class="fas fa-arrow-right"></i>
                </button>
            </div>

            <!-- Paso 3: Selecci√≥n de rol -->
            <div class="step" id="step3" style="display: none;">
                <div class="step-icon">üë•</div>
                <h2>Selecciona tu perfil</h2>
                <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 1rem; max-width: 500px; margin: 2rem auto;">
                    <button class="btn-outline" onclick="selectRole('citizen')">
                        <i class="fas fa-user"></i>
                        Ciudadano
                    </button>
                    <button class="btn-outline" onclick="selectRole('agent')">
                        <i class="fas fa-shield-alt"></i>
                        Agente
                    </button>
                </div>
                <p class="text-light">Los agentes deben tener credenciales verificadas</p>
            </div>
        </div>

        <div class="step-indicators">
            <div class="step-indicator active" id="indicator1"></div>
            <div class="step-indicator" id="indicator2"></div>
            <div class="step-indicator" id="indicator3"></div>
        </div>
    </div>
</div>

<!-- Vista de Login Ciudadano -->
<div id="citizenLoginView" class="view">
    <div class="main-content">
        <div class="card" style="max-width: 400px; margin: 0 auto;">
            <h2 style="text-align: center;">Acceso Ciudadano</h2>
            <form id="citizenLoginForm">
                <div class="form-group">
                    <label for="citizenEmail" class="form-label">Correo electr√≥nico</label>
                    <input type="email" id="citizenEmail" class="form-input" required>
                </div>
                <div class="form-group">
                    <label for="citizenPassword" class="form-label">Contrase√±a</label>
                    <input type="password" id="citizenPassword" class="form-input" required>
                </div>
                <button type="submit" class="btn" style="width: 100%;">
                    <i class="fas fa-sign-in-alt"></i>
                    Ingresar
                </button>
            </form>
            <p style="text-align: center; margin-top: 1rem;">
                ¬øNo tienes cuenta? 
                <a href="#" onclick="app.showView('citizenRegisterView')" style="color: var(--primary-blue);">Reg√≠strate aqu√≠</a>
            </p>
        </div>
    </div>
</div>

<!-- Vista de Registro Ciudadano -->
<div id="citizenRegisterView" class="view">
    <div class="main-content">
        <div class="card" style="max-width: 500px; margin: 0 auto;">
            <h2 style="text-align: center;">Registro Ciudadano</h2>
            <form id="citizenRegisterForm">
                <div class="form-group">
                    <label for="regName" class="form-label">Nombre completo</label>
                    <input type="text" id="regName" class="form-input" required>
                </div>
                <div class="form-group">
                    <label for="regEmail" class="form-label">Correo electr√≥nico</label>
                    <input type="email" id="regEmail" class="form-input" required>
                </div>
                <div class="form-group">
                    <label for="regPhone" class="form-label">Tel√©fono (opcional)</label>
                    <input type="tel" id="regPhone" class="form-input">
                </div>
                <div class="form-group">
                    <label for="regPassword" class="form-label">Contrase√±a</label>
                    <input type="password" id="regPassword" class="form-input" required minlength="6">
                </div>
                <div class="form-group">
                    <div class="checkbox-group">
                        <input type="checkbox" id="regConsent" required>
                        <label for="regConsent">Acepto la Pol√≠tica de Privacidad y tratamiento de datos seg√∫n Ley 1581 de 2012</label>
                    </div>
                </div>
                <button type="submit" class="btn" style="width: 100%;">
                    <i class="fas fa-user-plus"></i>
                    Registrarse
                </button>
            </form>
        </div>
    </div>
</div>

<!-- Vista de Login Agente -->
<div id="agentLoginView" class="view">
    <div class="main-content">
        <div class="card" style="max-width: 400px; margin: 0 auto;">
            <h2 style="text-align: center;">Acceso Agente</h2>
            <form id="agentLoginForm">
                <div class="form-group">
                    <label for="agentInstitution" class="form-label">Instituci√≥n</label>
                    <select id="agentInstitution" class="form-select" required>
                        <option value="">Selecciona tu instituci√≥n</option>
                        <option value="policia">Polic√≠a Nacional</option>
                        <option value="fiscalia">Fiscal√≠a General</option>
                        <option value="gaula">GAULA Militar</option>
                        <option value="ejercito">Ej√©rcito Nacional</option>
                        <option value="otra">Otra instituci√≥n</option>
                    </select>
                </div>
                <div class="form-group">
                    <label for="agentEmail" class="form-label">Correo institucional</label>
                    <input type="email" id="agentEmail" class="form-input" required>
                </div>
                <div class="form-group">
                    <label for="agentPassword" class="form-label">Contrase√±a</label>
                    <input type="password" id="agentPassword" class="form-input" required>
                </div>
                <button type="submit" class="btn" style="width: 100%;">
                    <i class="fas fa-shield-alt"></i>
                    Ingresar como Agente
                </button>
            </form>
        </div>
    </div>
</div>

<!-- Dashboard Ciudadano -->
<div id="citizenDashboardView" class="view">
    <div class="main-content">
        <div class="dashboard-header">
            <div>
                <h1>Mi Dashboard</h1>
                <p>Bienvenido de nuevo, <span id="userName">Usuario</span></p>
            </div>
            <div style="display: flex; gap: 1rem;">
                <button class="btn" onclick="app.showView('reportView')">
                    <i class="fas fa-plus"></i>
                    Nuevo Reporte
                </button>
                <button class="btn-outline" onclick="app.logout()">
                    <i class="fas fa-sign-out-alt"></i>
                    Salir
                </button>
            </div>
        </div>

        <div class="stats-grid">
            <div class="stat-card">
                <div class="stat-number" id="totalReports">0</div>
                <div class="stat-label">Reportes Totales</div>
            </div>
            <div class="stat-card">
                <div class="stat-number" id="pendingReports">0</div>
                <div class="stat-label">En Investigaci√≥n</div>
            </div>
            <div class="stat-card">
                <div class="stat-number" id="resolvedReports">0</div>
                <div class="stat-label">Resueltos</div>
            </div>
        </div>

        <div class="nav-tabs">
            <button class="nav-tab active" onclick="switchTab('myReports')">Mis Reportes</button>
            <button class="nav-tab" onclick="switchTab('alerts')">Alertas Recientes</button>
            <button class="nav-tab" onclick="switchTab('help')">Ayuda</button>
        </div>

        <div id="myReportsTab" class="tab-content active">
            <h3>Mis Reportes Recientes</h3>
            <div class="reports-list" id="citizenReportsList">
                <!-- Los reportes se cargar√°n aqu√≠ din√°micamente -->
            </div>
        </div>

        <div id="alertsTab" class="tab-content">
            <h3>Alertas de la Comunidad</h3>
            <div class="card">
                <p>Aqu√≠ ver√°s las √∫ltimas estafas reportadas en tu zona para que est√©s alerta.</p>
                <!-- Las alertas se cargar√°n aqu√≠ din√°micamente -->
            </div>
        </div>

        <div id="helpTab" class="tab-content">
            <h3>Centro de Ayuda</h3>
            <div class="card">
                <h4>¬øC√≥mo identificar una estafa telef√≥nica?</h4>
                <ul style="margin-left: 1.5rem; margin-bottom: 1rem;">
                    <li>Te piden informaci√≥n personal o bancaria</li>
                    <li>Ofrecen premios o beneficios inesperados</li>
                    <li>Suplantan identidad de entidades oficiales</li>
                    <li>Presionan para tomar decisiones r√°pidas</li>
                </ul>
                <h4>¬øQu√© hacer si recibes una llamada sospechosa?</h4>
                <ul style="margin-left: 1.5rem;">
                    <li>No proporciones informaci√≥n personal</li>
                    <li>Cuelga y reporta el n√∫mero inmediatamente</li>
                    <li>Verifica la informaci√≥n con la entidad oficial</li>
                    <li>Comunica a tus familiares y amigos</li>
                </ul>
            </div>
        </div>
    </div>
</div>

<!-- Dashboard Agente -->
<div id="agentDashboardView" class="view">
    <div class="main-content">
        <div class="dashboard-header">
            <div>
                <h1>Dashboard de Agente</h1>
                <p>Instituci√≥n: <span id="agentInstitutionName">Polic√≠a Nacional</span></p>
            </div>
            <div style="display: flex; gap: 1rem;">
                <button class="btn-outline" onclick="app.logout()">
                    <i class="fas fa-sign-out-alt"></i>
                    Salir
                </button>
            </div>
        </div>

        <div class="stats-grid">
            <div class="stat-card">
                <div class="stat-number" id="agentTotalReports">0</div>
                <div class="stat-label">Reportes Totales</div>
            </div>
            <div class="stat-card">
                <div class="stat-number" id="agentNewReports">0</div>
                <div class="stat-label">Nuevos Reportes</div>
            </div>
            <div class="stat-card">
                <div class="stat-number" id="agentUrgentReports">0</div>
                <div class="stat-label">Casos Urgentes</div>
            </div>
            <div class="stat-card">
                <div class="stat-number" id="agentResolved">0</div>
                <div class="stat-label">Resueltos Hoy</div>
            </div>
        </div>

        <div class="nav-tabs">
            <button class="nav-tab active" onclick="switchAgentTab('allReports')">Todos los Reportes</button>
            <button class="nav-tab" onclick="switchAgentTab('myCases')">Mis Casos</button>
            <button class="nav-tab" onclick="switchAgentTab('analytics')">Anal√≠ticas</button>
        </div>

        <div id="allReportsTab" class="tab-content active">
            <h3>Reportes Recientes</h3>
            <div class="reports-list" id="agentReportsList">
                <!-- Los reportes se cargar√°n aqu√≠ din√°micamente -->
            </div>
        </div>

        <div id="myCasesTab" class="tab-content">
            <h3>Casos Asignados</h3>
            <div class="card">
                <p>Aqu√≠ ver√°s los casos que tienes asignados para investigaci√≥n.</p>
                <!-- Los casos asignados se cargar√°n aqu√≠ din√°micamente -->
            </div>
        </div>

        <div id="analyticsTab" class="tab-content">
            <h3>Anal√≠ticas de Estafas</h3>
            <div class="card">
                <p>Estad√≠sticas y patrones detectados en los reportes de estafas.</p>
                <!-- Las anal√≠ticas se cargar√°n aqu√≠ din√°micamente -->
            </div>
        </div>
    </div>
</div>

<!-- Vista de Reporte -->
<div id="reportView" class="view">
    <div class="main-content">
        <div class="card">
            <h2>Reportar Estafa Telef√≥nica</h2>
            <p>Tu reporte ayuda a proteger a la comunidad. Toda la informaci√≥n es confidencial.</p>

            <form id="reportForm">
                <div class="form-group">
                    <label for="reportPhone" class="form-label">N√∫mero telef√≥nico</label>
                    <input type="text" id="reportPhone" class="form-input" 
                           placeholder="Ej: 3001234567, +573001234567, o 'Desconocido'">
                    <div class="error-message" id="phoneError">Por favor ingresa un n√∫mero v√°lido o "Desconocido"</div>
                    <small style="color: var(--text-light); margin-top: 0.5rem; display: block;">
                        Si no conoces el n√∫mero, escribe "Desconocido" o "Privado". Aceptamos todos los formatos: 3001234567, +57 300 123 4567, etc.
                    </small>
                </div>

                <div class="form-group">
                    <label for="scamType" class="form-label">Tipo de estafa *</label>
                    <select id="scamType" class="form-select" required>
                        <option value="">Selecciona el tipo de estafa</option>
                        <option value="financial">üí∞ Estafa financiera (cr√©ditos, inversiones)</option>
                        <option value="threat">‚ö†Ô∏è Amenazas o extorsi√≥n</option>
                        <option value="identity">üÜî Suplantaci√≥n de identidad</option>
                        <option value="service">üìû Fraude de servicios</option>
                        <option value="prize">üéÅ Estafa de premios o loter√≠as</option>
                        <option value="tech">üíª Soporte t√©cnico falso</option>
                        <option value="romance">‚ù§Ô∏è Estafa rom√°ntica</option>
                        <option value="other">‚ùì Otro tipo</option>
                    </select>
                </div>

                <div class="form-group">
                    <label for="description" class="form-label">Descripci√≥n de lo sucedido *</label>
                    <textarea id="description" class="form-textarea" 
                              placeholder="Describe con detalle lo que te dijeron, c√≥mo fue la estafa, qu√© informaci√≥n te pidieron..."
                              required></textarea>
                </div>

                <div class="form-group">
                    <label for="callDate" class="form-label">Fecha y hora de la llamada</label>
                    <input type="datetime-local" id="callDate" class="form-input">
                </div>

                <div class="form-group">
                    <label for="location" class="form-label">Ubicaci√≥n (opcional)</label>
                    <input type="text" id="location" class="form-input" placeholder="Ciudad o municipio donde recibiste la llamada">
                </div>

                <div class="form-group">
                    <div class="checkbox-group">
                        <input type="checkbox" id="anonymous" name="anonymous">
                        <label for="anonymous">Reportar de forma an√≥nima</label>
                    </div>
                </div>

                <div class="success-message" id="reportSuccess">
                    ‚úÖ Reporte enviado exitosamente. ¬°Gracias por contribuir a la seguridad colectiva!
                </div>

                <div style="display: flex; gap: 1rem; margin-top: 2rem;">
                    <button type="submit" class="btn">
                        <i class="fas fa-paper-plane"></i>
                        Enviar Reporte
                    </button>
                    <button type="button" class="btn-outline" onclick="app.showView('citizenDashboardView')">
                        <i class="fas fa-arrow-left"></i>
                        Volver al Dashboard
                    </button>
                </div>
            </form>
        </div>
    </div>
</div>

<script>
    // Funciones globales para el onboarding
    function nextOnboardingStep(stepNumber) {
        document.querySelectorAll('.onboarding-steps .step').forEach(step => {
            step.style.display = 'none';
        });
        document.getElementById(`step${stepNumber}`).style.display = 'block';
        
        document.querySelectorAll('.step-indicator').forEach((indicator, index) => {
            indicator.classList.toggle('active', index + 1 === stepNumber);
        });
    }

    function selectRole(role) {
        if (role === 'citizen') {
            app.showView('citizenLoginView');
        } else if (role === 'agent') {
            app.showView('agentLoginView');
        }
    }

    function switchTab(tabName) {
        document.querySelectorAll('.nav-tab').forEach(tab => {
            tab.classList.remove('active');
        });
        event.target.classList.add('active');
        
        document.querySelectorAll('.tab-content').forEach(content => {
            content.style.display = 'none';
        });
        document.getElementById(`${tabName}Tab`).style.display = 'block';
    }

    function switchAgentTab(tabName) {
        document.querySelectorAll('.nav-tab').forEach(tab => {
            tab.classList.remove('active');
        });
        event.target.classList.add('active');
        
        document.querySelectorAll('.tab-content').forEach(content => {
            content.style.display = 'none';
        });
        document.getElementById(`${tabName}Tab`).style.display = 'block';
    }
</script>
